{"version":3,"sources":["js/pagination.js"],"names":["document","addEventListener","SimpleAdaptiveSlider","interval","swipe","WRAPPER_SELECTOR","ITEMS_SELECTOR","ITEM_SELECTOR","ITEM_CLASS_ACTIVE","CONTROL_SELECTOR","CONTROL_CLASS_SHOW","INDICATOR_WRAPPER_ELEMENT","INDICATOR_WRAPPER_CLASS","INDICATOR_ITEM_ELEMENT","INDICATOR_ITEM_CLASS","INDICATOR_ITEM_CLASS_ACTIVE","SWIPE_THRESHOLD","TRANSITION_NONE","selector","config","key","_$root","querySelector","_$wrapper","_$items","_$itemList","querySelectorAll","_currentIndex","_minOrder","_maxOrder","_$itemWithMinOrder","_$itemWithMaxOrder","_minTranslate","_maxTranslate","_direction","_balancingItemsFlag","_transform","_hasSwipeState","_swipeStartPosX","_intervalId","_config","loop","autoplay","hasOwnProperty","i","length","dataset","order","index","translate","count","transformValue","concat","style","transform","_addIndicators","_refreshExtremeValues","_setActiveClass","_addEventListener","_autoplay","prototype","$item","parseInt","classList","add","remove","$indicators","slideTo","$controls","_move","condition","step","_moveTo","currentIndex","Math","abs","action","clearInterval","setInterval","bind","$wrapper","createElement","className","appendChild","$itemList","_balancingItems","wrapperRect","getBoundingClientRect","halfWidthItem","width","wrapperLeft","left","$min","right","wrapperRight","$max","requestAnimationFrame","$items","onSwipeStart","e","event","type","search","touches","clientX","_swipeStartPosY","clientY","_hasSwiping","onSwipeMove","diffPosX","diffPosY","preventDefault","value","translateX","onSwipeEnd","changedTouches","onClick","$target","target","contains","slide","onTransitionStart","window","onTransitionEnd","dispatchEvent","CustomEvent","bubbles","onMouseEnter","onMouseLeave","supportsPassive","opts","Object","defineProperty","get","err","passive","onDragStart","onVisibilityChange","visibilityState","next","prev"],"mappings":"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","file":"pagination.e6dbfb88.js","sourceRoot":"../src","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n            // инициализация слайдера\n            var slider = new SimpleAdaptiveSlider('.slider', {\n                // autoplay: true,\n                interval: 5000,\n                swipe: true,\n            });\n});\n        \n// (function() {\n//   if (typeof window.CustomEvent === 'function' ) return false;\n//   function CustomEvent(event, params) {\n//     params = params || {bubbles: false, cancelable: false, detail: null};\n//     var e = document.createEvent('CustomEvent');\n//     e.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n//     return e;\n//   }\n//   window.CustomEvent = CustomEvent;\n// })();\n\n// базовые классы и селекторы\nvar WRAPPER_SELECTOR = '.slider__wrapper';\nvar ITEMS_SELECTOR = '.slider__items';\nvar ITEM_SELECTOR = '.slider__item';\nvar ITEM_CLASS_ACTIVE = 'slider__item_active';\nvar CONTROL_SELECTOR = '.slider__control';\nvar CONTROL_CLASS_SHOW = 'slider__control_show';\n// индикаторы\nvar INDICATOR_WRAPPER_ELEMENT = 'ol';\nvar INDICATOR_WRAPPER_CLASS = 'slider__indicators';\nvar INDICATOR_ITEM_ELEMENT = 'li';\nvar INDICATOR_ITEM_CLASS = 'slider__indicator';\nvar INDICATOR_ITEM_CLASS_ACTIVE = 'slider__indicator_active';\n// порог для переключения слайда (40%)\nvar SWIPE_THRESHOLD = 20;\n// класс для отключения transition\nvar TRANSITION_NONE = 'transition-none';\n\nfunction SimpleAdaptiveSlider(selector, config) {\n  // .slider\n  this._$root = document.querySelector(selector);\n  // .slider__wrapper\n  this._$wrapper = this._$root.querySelector(WRAPPER_SELECTOR);\n  // .slider__items\n  this._$items = this._$root.querySelector(ITEMS_SELECTOR);\n  // .slider__item\n  this._$itemList = this._$root.querySelectorAll(ITEM_SELECTOR);\n  // текущий индекс\n  this._currentIndex = 0;\n  // экстремальные значения слайдов\n  this._minOrder = 0;\n  this._maxOrder = 0;\n  this._$itemWithMinOrder = null;\n  this._$itemWithMaxOrder = null;\n  this._minTranslate = 0;\n  this._maxTranslate = 0;\n  // направление смены слайдов (по умолчанию)\n  this._direction = 'next';\n  // флаг, который показывает, что идёт процесс уравновешивания слайдов\n  this._balancingItemsFlag = false;\n  // текущее значение трансформации\n  this._transform = 0;\n  // swipe параметры\n  this._hasSwipeState = false;\n  this._swipeStartPosX = 0;\n  // id таймера\n  this._intervalId = null;\n  // конфигурация слайдера (по умолчанию)\n  this._config = {\n    loop: true,\n    autoplay: false,\n    interval: 5000,\n    swipe: true,\n  };\n  // изменяем конфигурацию слайдера в соответствии с переданными настройками\n  for (var key in config) {\n    if (this._config.hasOwnProperty(key)) {\n      this._config[key] = config[key];\n    }\n  }\n  // добавляем к слайдам data-атрибуты\n  for (var i = 0, length = this._$itemList.length; i < length; i++) {\n    this._$itemList[i].dataset.order = i;\n    this._$itemList[i].dataset.index = i;\n    this._$itemList[i].dataset.translate = 0;\n  }\n  // перемещаем последний слайд перед первым\n  if (this._config.loop) {\n    var count = this._$itemList.length - 1;\n    var translate = -this._$itemList.length * 100;\n    this._$itemList[count].dataset.order = -1;\n    this._$itemList[count].dataset.translate = -this._$itemList.length * 100;\n    var transformValue = 'translateX('.concat(translate, '%)');\n    this._$itemList[count].style.transform = transformValue;\n  }\n  // добавляем индикаторы к слайдеру\n  this._addIndicators();\n  // обновляем экстремальные значения переменных\n  this._refreshExtremeValues();\n  // помечаем активные элементы\n  this._setActiveClass();\n  // назначаем обработчики\n  this._addEventListener();\n  // запускаем автоматическую смену слайдов\n  this._autoplay();\n}\n\n// set active class\nSimpleAdaptiveSlider.prototype._setActiveClass = function() {\n  // slides\n  var i;\n  var length;\n  var $item;\n  var index;\n  for (i = 0, length = this._$itemList.length; i < length; i++) {\n    $item = this._$itemList[i];\n    index = parseInt($item.dataset.index);\n    if (this._currentIndex === index) {\n      $item.classList.add(ITEM_CLASS_ACTIVE);\n    } else {\n      $item.classList.remove(ITEM_CLASS_ACTIVE);\n    }\n  }\n  // indicators\n  var $indicators = this._$root.querySelectorAll('.' + INDICATOR_ITEM_CLASS);\n  if ($indicators.length) {\n    for (i = 0, length = $indicators.length; i < length; i++) {\n      $item = $indicators[i];\n      index = parseInt($item.dataset.slideTo);\n      if (this._currentIndex === index) {\n        $item.classList.add(INDICATOR_ITEM_CLASS_ACTIVE);\n      } else {\n        $item.classList.remove(INDICATOR_ITEM_CLASS_ACTIVE);\n      }\n    }\n  }\n  // controls\n  var $controls = this._$root.querySelectorAll(CONTROL_SELECTOR);\n  if (!$controls.length) {\n    return;\n  }\n  if (this._config.loop) {\n    for (i = 0, length = $controls.length; i < length; i++) {\n      $controls[i].classList.add(CONTROL_CLASS_SHOW);\n    }\n  } else {\n    if (this._currentIndex === 0) {\n      $controls[0].classList.remove(CONTROL_CLASS_SHOW);\n      $controls[1].classList.add(CONTROL_CLASS_SHOW);\n    } else if (this._currentIndex === this._$itemList.length - 1) {\n      $controls[0].classList.add(CONTROL_CLASS_SHOW);\n      $controls[1].classList.remove(CONTROL_CLASS_SHOW);\n    } else {\n      $controls[0].classList.add(CONTROL_CLASS_SHOW);\n      $controls[1].classList.add(CONTROL_CLASS_SHOW);\n    }\n  }\n};\n\n// смена слайдов\nSimpleAdaptiveSlider.prototype._move = function() {\n  if (this._direction === 'none') {\n    this._$items.classList.remove(TRANSITION_NONE);\n    this._$items.style.transform = 'translateX('.concat(this._transform, '%)');\n    return;\n  }\n  if (!this._config.loop) {\n    var condition = this._currentIndex + 1 >= this._$itemList.length;\n    if (condition && this._direction === 'next') {\n      this._autoplay('stop');\n      return;\n    }\n    if (this._currentIndex <= 0 && this._direction === 'prev') {\n      return;\n    }\n  }\n  var step = this._direction === 'next' ? -100 : 100;\n  var transform = this._transform + step;\n  if (this._direction === 'next') {\n    if (++this._currentIndex > this._$itemList.length - 1) {\n      this._currentIndex -= this._$itemList.length;\n    }\n  } else {\n    if (--this._currentIndex < 0) {\n      this._currentIndex += this._$itemList.length;\n    }\n  }\n  this._transform = transform;\n  this._$items.style.transform = 'translateX('.concat(transform, '%)');\n  this._setActiveClass();\n};\n\n// функция для перемещения к слайду по индексу\nSimpleAdaptiveSlider.prototype._moveTo = function(index) {\n  var currentIndex = this._currentIndex;\n  this._direction = index > currentIndex ? 'next' : 'prev';\n  for (var i = 0; i < Math.abs(index - currentIndex); i++) {\n    this._move();\n  }\n};\n\n// метод для автоматической смены слайдов\nSimpleAdaptiveSlider.prototype._autoplay = function(action) {\n  if (!this._config.autoplay) {\n    return;\n  }\n  if (action === 'stop') {\n    clearInterval(this._intervalId);\n    this._intervalId = null;\n    return;\n  }\n  if (this._intervalId === null) {\n    this._intervalId = setInterval(function() {\n      this._direction = 'next';\n      this._move();\n    }.bind(this),\n    this._config.interval\n    );\n  }\n};\n\n// добавление индикаторов\nSimpleAdaptiveSlider.prototype._addIndicators = function() {\n  if (this._$root.querySelector('.' + INDICATOR_WRAPPER_CLASS)) {\n    return;\n  }\n  var $wrapper = document.createElement(INDICATOR_WRAPPER_ELEMENT);\n  $wrapper.className = INDICATOR_WRAPPER_CLASS;\n  for (var i = 0, length = this._$itemList.length; i < length; i++) {\n    var $item = document.createElement(INDICATOR_ITEM_ELEMENT);\n    $item.className = INDICATOR_ITEM_CLASS;\n    $item.dataset.slideTo = i;\n    $wrapper.appendChild($item);\n  }\n  this._$root.appendChild($wrapper);\n};\n\n// refresh extreme values\nSimpleAdaptiveSlider.prototype._refreshExtremeValues = function() {\n  var $itemList = this._$itemList;\n  this._minOrder = parseInt($itemList[0].dataset.order);\n  this._maxOrder = this._minOrder;\n  this._$itemWithMinOrder = $itemList[0];\n  this._$itemWithMaxOrder = this._$itemWithMinOrder;\n  this._minTranslate = parseInt($itemList[0].dataset.translate);\n  this._maxTranslate = this._minTranslate;\n  for (var i = 0, length = $itemList.length; i < length; i++) {\n    var $item = $itemList[i];\n    var order = parseInt($item.dataset.order);\n    if (order < this._minOrder) {\n      this._minOrder = order;\n      this._$itemWithMinOrder = $item;\n      this._minTranslate = parseInt($item.dataset.translate);\n    } else if (order > this._maxOrder) {\n      this._maxOrder = order;\n      this._$itemWithMaxOrder = $item;\n      this._maxTranslate = parseInt($item.dataset.translate);\n    }\n  }\n};\n\n// balancing items\nSimpleAdaptiveSlider.prototype._balancingItems = function() {\n  if (!this._balancingItemsFlag) {\n    return;\n  }\n  var $wrapper = this._$wrapper;\n  var wrapperRect = $wrapper.getBoundingClientRect();\n  var halfWidthItem = wrapperRect.width / 2;\n  var count = this._$itemList.length;\n  var translate;\n  var clientRect;\n  if (this._direction === 'next') {\n    var wrapperLeft = wrapperRect.left;\n    var $min = this._$itemWithMinOrder;\n    translate = this._minTranslate;\n    clientRect = $min.getBoundingClientRect();\n    if (clientRect.right < wrapperLeft - halfWidthItem) {\n      $min.dataset.order = this._minOrder + count;\n      translate += count * 100;\n      $min.dataset.translate = translate;\n      $min.style.transform = 'translateX('.concat(translate, '%)');\n      this._refreshExtremeValues();\n    }\n  } else if (this._direction === 'prev') {\n    var wrapperRight = wrapperRect.right;\n    var $max = this._$itemWithMaxOrder;\n    translate = this._maxTranslate;\n    clientRect = $max.getBoundingClientRect();\n    if (clientRect.left > wrapperRight + halfWidthItem) {\n      $max.dataset.order = this._maxOrder - count;\n      translate -= count * 100;\n      $max.dataset.translate = translate;\n      $max.style.transform = 'translateX('.concat(translate, '%)');\n      this._refreshExtremeValues();\n    }\n  }\n  requestAnimationFrame(this._balancingItems.bind(this));\n};\n\n// adding listeners\nSimpleAdaptiveSlider.prototype._addEventListener = function() {\n  var $items = this._$items;\n  function onClick(e) {\n    var $target = e.target;\n    this._autoplay('stop');\n    if ($target.classList.contains('slider__control')) {\n      e.preventDefault();\n      this._direction = $target.dataset.slide;\n      this._move();\n    } else if ($target.dataset.slideTo) {\n      e.preventDefault();\n      var index = parseInt($target.dataset.slideTo);\n      this._moveTo(index);\n    }\n    if (this._config.loop) {\n      this._autoplay();\n    }\n  }\n  function onTransitionStart() {\n    this._balancingItemsFlag = true;\n    window.requestAnimationFrame(this._balancingItems.bind(this));\n  }\n  function onTransitionEnd() {\n    this._balancingItemsFlag = false;\n    this._$root.dispatchEvent(new CustomEvent('slider.transition.end',\n        {bubbles: true}));\n  }\n  function onMouseEnter() {\n    this._autoplay('stop');\n  }\n  function onMouseLeave() {\n    if (this._config.loop) {\n      this._autoplay();\n    }\n  }\n  function onSwipeStart(e) {\n    this._autoplay('stop');\n    var event = e.type.search('touch') === 0 ? e.touches[0] : e;\n    this._swipeStartPosX = event.clientX;\n    this._swipeStartPosY = event.clientY;\n    this._hasSwipeState = true;\n    this._hasSwiping = false;\n  }\n  function onSwipeMove(e) {\n    if (!this._hasSwipeState) {\n      return;\n    }\n    var event = e.type.search('touch') === 0 ? e.touches[0] : e;\n    var diffPosX = this._swipeStartPosX - event.clientX;\n    var diffPosY = this._swipeStartPosY - event.clientY;\n    if (!this._hasSwiping) {\n      if (Math.abs(diffPosY) > Math.abs(diffPosX)) {\n        this._hasSwipeState = false;\n        return;\n      }\n      this._hasSwiping = true;\n    }\n    e.preventDefault();\n    if (!this._config.loop) {\n      if (this._currentIndex + 1 >= this._$itemList.length && diffPosX >= 0) {\n        diffPosX = diffPosX / 4;\n      }\n      if (this._currentIndex <= 0 && diffPosX <= 0) {\n        diffPosX = diffPosX / 4;\n      }\n    }\n    var value = (diffPosX / this._$wrapper.getBoundingClientRect().width) * 100;\n    var translateX = this._transform - value;\n    this._$items.classList.add(TRANSITION_NONE);\n    this._$items.style.transform = 'translateX('.concat(translateX, '%)');\n  }\n  function onSwipeEnd(e) {\n    if (!this._hasSwipeState) {\n      return;\n    }\n    var event = e.type.search('touch') === 0 ? e.changedTouches[0] : e;\n    var diffPosX = this._swipeStartPosX - event.clientX;\n    if (!this._config.loop) {\n      if (this._currentIndex + 1 >= this._$itemList.length && diffPosX >= 0) {\n        diffPosX = diffPosX / 4;\n      }\n      if (this._currentIndex <= 0 && diffPosX <= 0) {\n        diffPosX = diffPosX / 4;\n      }\n    }\n    var value = (diffPosX / this._$wrapper.getBoundingClientRect().width) * 100;\n    this._$items.classList.remove(TRANSITION_NONE);\n    if (value > SWIPE_THRESHOLD) {\n      this._direction = 'next';\n      this._move();\n    } else if (value < -SWIPE_THRESHOLD) {\n      this._direction = 'prev';\n      this._move();\n    } else {\n      this._direction = 'none';\n      this._move();\n    }\n    this._hasSwipeState = false;\n    if (this._config.loop) {\n      this._autoplay();\n    }\n  }\n  function onDragStart(e) {\n    e.preventDefault();\n  }\n  function onVisibilityChange() {\n    if (document.visibilityState === 'hidden') {\n      this._autoplay('stop');\n    } else if (document.visibilityState === 'visible') {\n      if (this._config.loop) {\n        this._autoplay();\n      }\n    }\n  }\n  // click\n  this._$root.addEventListener('click', onClick.bind(this));\n  // transitionstart and transitionend\n  if (this._config.loop) {\n    $items.addEventListener('transitionstart', onTransitionStart.bind(this));\n    $items.addEventListener('transitionend', onTransitionEnd.bind(this));\n  }\n  // mouseenter and mouseleave\n  if (this._config.autoplay) {\n    this._$root.addEventListener('mouseenter', onMouseEnter.bind(this));\n    this._$root.addEventListener('mouseleave', onMouseLeave.bind(this));\n  }\n  // swipe\n  if (this._config.swipe) {\n    var supportsPassive = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function() {\n          supportsPassive = true;\n        },\n      });\n      window.addEventListener('testPassiveListener', null, opts);\n    } catch (err) {}\n    this._$root.addEventListener('touchstart', onSwipeStart.bind(this),\n         supportsPassive ? {passive: false} : false);\n    this._$root.addEventListener('touchmove', onSwipeMove.bind(this),\n         supportsPassive ? {passive: false} : false);\n    this._$root.addEventListener('mousedown', onSwipeStart.bind(this));\n    this._$root.addEventListener('mousemove', onSwipeMove.bind(this));\n    document.addEventListener('touchend', onSwipeEnd.bind(this));\n    document.addEventListener('mouseup', onSwipeEnd.bind(this));\n  }\n  this._$root.addEventListener('dragstart', onDragStart.bind(this));\n  // при изменении активности вкладки\n  document.addEventListener('visibilitychange', onVisibilityChange.bind(this));\n};\n\n// перейти к следующему слайду\nSimpleAdaptiveSlider.prototype.next = function() {\n  this._direction = 'next';\n  this._move();\n};\n\n// перейти к предыдущему слайду\nSimpleAdaptiveSlider.prototype.prev = function() {\n  this._direction = 'prev';\n  this._move();\n};\n\n// управление автоматической сменой слайдов\nSimpleAdaptiveSlider.prototype.autoplay = function(action) {\n  this._autoplay('stop');\n};"]}